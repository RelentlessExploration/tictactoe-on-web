(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(9),c=n.n(o),i=n(2),s=n(3),l=n(5),u=n(4),d=(n(14),n(6)),h=n.n(d),f=n(8),b="X",g="O",j=null,p=function(){function e(t,n){Object(i.a)(this,e),this.value=t,this.move=n}return Object(s.a)(e,[{key:"getValue",value:function(){return this.value}},{key:"getMove",value:function(){return this.move}}]),e}();function v(){return[[j,j,j],[j,j,j],[j,j,j]]}function m(e){for(var t=0,n=0,r=0;r<e.length;r++)for(var a=0;a<e.length;a++)e[r][a]===b?t++:e[r][a]===g&&n++;return t>n?g:b}function O(e){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<e.length;r++)e[n][r]===j&&t.push([n,r]);return t}function w(e,t){for(var n=[[],[],[]],r=0;r<e.length;r++)for(var a=0;a<e.length;a++)n[r][a]=e[r][a];return n[t[0]][t[1]]=m(e),n}function I(e){var t=function(e){for(var t=0;t<e.length;t++)if(e[t][0]===e[t][1]&&e[t][1]===e[t][2]&&e[t][0]!==j)return e[t][0]===b?b:g;return null}(e),n=function(e){for(var t=0;t<e.length;t++)if(e[0][t]===e[1][t]&&e[1][t]===e[2][t]&&e[0][t]!==j)return e[0][t]===b?b:g;return null}(e),r=function(e){if(e[0][0]===e[1][1]&&e[1][1]===e[2][2]&&e[0][0]!==j)return e[0][0];if(e[0][2]===e[1][1]&&e[2][0]===e[0][2]&&e[0][2]!==j)return e[0][2];return null}(e);return function(e,t,n){for(var r=[e,t,n],a=0;a<r.length;a++)if(null!==r[a])return!0;return!1}(t,n,r)?t===b||n===b||r===b?b:g:null}function y(e){return null!==I(e)||function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)if(e[t][n]===j)return!1;return!0}(e)}function S(e){return I(e)===b?1:I(e)===g?-1:0}function x(e){var t=m(e);if(y(e))return null;for(var n=!0,r=0;r<e.length;r++)for(var a=0;a<e.length;a++)e[r][a]!==b&&e[r][a]!==g||(n=!1);return n?(console.log("empty"),O(e)[Math.floor(10*Math.random())]):t===b?k(e).getMove():C(e).getMove()}function k(e){if(y(e))return new p(S(e),null);for(var t=Number.NEGATIVE_INFINITY,n=null,r=O(e),a=0;a<r.length;a++){var o=r[a],c=C(w(e,o)).getValue();if(c>t&&(n=o,1===(t=c)))return new p(t,n)}return new p(t,n)}function C(e){if(y(e))return new p(S(e),null);for(var t=Number.POSITIVE_INFINITY,n=null,r=O(e),a=0;a<r.length;a++){var o=r[a],c=k(w(e,o)).getValue();if(c<t&&(n=o,-1===(t=c)))return new p(t,n)}return new p(t,n)}var M=n(0),N="playAgain",B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).updateMode=function(e){r.setState({mode:e})},r.handleClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.setState({hidden:!0}),[b,g].includes(e)?r.props.handler(e):(console.log("replay"),r.setState({mode:"choose",hidden:!1}))},r.state={mode:e.mode,hidden:!1},r}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return"choose"===this.state.mode?this.state.hidden?Object(M.jsx)("div",{id:"hidden-chooseContainer",children:Object(M.jsxs)("div",{id:"buttonWrapper",children:[Object(M.jsx)("button",{className:"choose-btn btn btn-info",onClick:function(){return e.handleClick(b)},children:"Play as X"}),Object(M.jsx)("button",{className:"choose-btn btn btn-success",onClick:function(){return e.handleClick(g)},children:"Play as O"})]})}):Object(M.jsxs)("div",{id:"chooseContainer",children:[Object(M.jsx)("h1",{id:"chooseSubHeading",children:"Choose Player:"}),Object(M.jsxs)("div",{id:"buttonWrapper",children:[Object(M.jsx)("button",{className:"choose-btn btn btn-dark",onClick:function(){return e.handleClick(b)},children:"Play as X"}),Object(M.jsx)("button",{className:"choose-btn btn btn-success",onClick:function(){return e.handleClick(g)},children:"Play as O"})]})]}):Object(M.jsxs)("div",{id:"chooseContainer",children:[Object(M.jsx)("h1",{id:"chooseSubHeading",children:"Next:"}),Object(M.jsx)("div",{id:"buttonWrapper",children:Object(M.jsx)("button",{className:"choose-btn btn btn-success",onClick:function(){return e.handleClick()},children:"Play again"})})]})}}]),n}(r.Component),R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleClick=function(e){var t=[parseInt(e.charAt(0)),parseInt(e.charAt(1))];a.props.handler(t),a.updateInnerHTML(window.localStorage.getItem("player"),!0)},a.updateInnerHTML=function(){var e=Object(f.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=a.myRef.current).innerHTML=t,r.setAttribute("disabled","true");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.disable=function(){var e=a.myRef.current;e.innerHTML!==b&&e.innerHTML!==g&&(a.myRef.current.className="tttButtons btn btn-secondary",a.myRef.current.innerHTML="",a.myRef.current.disabled=!0)},a.myRef=Object(r.createRef)(),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return null===window.localStorage.getItem("user")?Object(M.jsx)("div",{className:"tttButtonsContainer",children:Object(M.jsx)("button",{ref:this.myRef,disabled:!0,className:"tttButtons btn btn-secondary",id:this.props.id,onClick:function(){return e.handleClick(e.props.id)},children:this.props.name||""})}):Object(M.jsx)("div",{className:"tttButtonsContainer",children:Object(M.jsx)("button",{ref:this.myRef,className:"tttButtons btn btn-warning",id:this.props.id,onClick:function(){return e.handleClick(e.props.id)},children:this.props.name||""})})}},{key:"enable",value:function(){var e=this.myRef.current;e.innerHTML="",e.disabled=!1,e.className="tttButtons btn btn-warning"}}]),n}(r.Component),T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).setUser=function(e){window.localStorage.setItem("board",JSON.stringify(v())),window.localStorage.setItem("user",e),window.localStorage.setItem("terminal","false"),window.localStorage.setItem("message",""),a.setState(a.state),e===g&&a.updateBoardAI()},a.getBoard=function(){return JSON.parse(window.localStorage.getItem("board"))},a.updateBoard=function(e){var t=a.getBoard(),n=w(t,e),r=m(t);if(window.localStorage.setItem("prevPlayer",r),window.localStorage.setItem("player",m(n)),window.localStorage.setItem("board",JSON.stringify(n)),window.localStorage.setItem("steps","".concat(parseInt(window.localStorage.getItem("steps"))+1)),y(n)){var o=I(n);a.controlRef.current.updateMode(N),window.localStorage.setItem("terminal","true"),null!==o?a.updateMessage("Game over, ".concat(o," wins")):a.updateMessage("Game over, tie")}else a.updateBoardAI(),a.setState(a.state)},a.updateBoardAI=Object(f.a)(h.a.mark((function e(){var t,n,r,o,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.getBoard(),n=x(t),r=w(t,n),o=m(t),window.localStorage.setItem("prevPlayer",o),window.localStorage.setItem("player",m(r)),window.localStorage.setItem("board",JSON.stringify(r)),window.localStorage.setItem("steps","".concat(parseInt(window.localStorage.getItem("steps"))+1)),a.updateMessage("Play as ".concat(window.localStorage.getItem("user"))),c=a.getOrCreateRef("".concat(n[0]).concat(n[1])),console.log("processing action ".concat(n[0]).concat(n[1])),console.log("processing grid:"),console.log(c.current),c.current.updateInnerHTML(o,!0),a.setState(a.state),console.log(a.getBoard()),y(r)&&(i=I(r),window.localStorage.setItem("terminal","true"),a.controlRef.current.updateMode(N),null!==i?a.updateMessage("Game over, ".concat(i," wins")):a.updateMessage("Game over, tie"));case 17:case"end":return e.stop()}}),e)}))),a.updateMessage=function(e){window.localStorage.setItem("message",e),a.setState(a.state)},a.renderGrids=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=a.references["".concat(t).concat(n)];e[t][n]===j?r.current.enable():(r.current.updateInnerHTML(e[t][n],!0),setTimeout((function(){}),3e3))}"true"===window.localStorage.getItem("terminal")&&a.disableBoard(e)},a.aiFirstMove=function(){var e=parseInt(window.localStorage.getItem("steps")),t=window.localStorage.getItem("user");if(0===e&&t===g){var n=x(v()),r=w(v(),n);a.renderGrids(r)}},a.state={winner:null},a.references={},a.controlRef=Object(r.createRef)(),window.localStorage.clear(),window.localStorage.setItem("board",JSON.stringify(v())),window.localStorage.setItem("terminal","false"),window.localStorage.setItem("player",m(v())),window.localStorage.setItem("steps","0"),window.localStorage.setItem("message",""),a}return Object(s.a)(n,[{key:"getOrCreateRef",value:function(e){return this.references.hasOwnProperty(e)||(this.references[e]=Object(r.createRef)()),this.references[e]}},{key:"disableBoard",value:function(e){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<e.length;r++)e[n][r]===j&&t.push("".concat(n).concat(r));for(var a=0;a<t.length;a++){this.getOrCreateRef(t[a]).current.disable()}}},{key:"enableBoard",value:function(e){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<e.length;r++)e[n][r]===j&&t.push("".concat(n).concat(r));for(var a=0;a<t.length;a++){this.getOrCreateRef(t[a]).current.enable()}}},{key:"render",value:function(){parseInt(window.localStorage.getItem("steps"))>0&&this.renderGrids(this.getBoard());for(var e=[],t=0;t<3;t++)for(var n=0;n<3;n++)e.push(Object(M.jsx)(R,{ref:this.getOrCreateRef("".concat(t).concat(n)),id:"".concat(t).concat(n),handler:this.updateBoard,getter:this.getBoard}));return Object(M.jsxs)("div",{id:"tictactoe",children:[Object(M.jsx)("div",{id:"tttmessage-wrapper",children:Object(M.jsx)("h3",{id:"tttmessage",children:window.localStorage.getItem("message")||""})}),Object(M.jsxs)("div",{id:"panel-wrapper",children:[Object(M.jsx)("div",{id:"choose-container",children:Object(M.jsx)(B,{ref:this.controlRef,handler:this.setUser,mode:"choose"})}),Object(M.jsx)("div",{id:"board",children:e},"unique")]})]})}}]),n}(r.Component),H=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(M.jsx)("h1",{id:"heading",children:"Tic Tac Toe"})}}]),n}(r.Component),P=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{id:"box-animations",children:Object(M.jsxs)("ul",{id:"box-area",children:[Object(M.jsx)("li",{}),Object(M.jsx)("li",{}),Object(M.jsx)("li",{}),Object(M.jsx)("li",{}),Object(M.jsx)("li",{})]})})}}]),n}(r.Component),A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)(H,{}),Object(M.jsx)(T,{user:this.user}),Object(M.jsx)(P,{})]})}}]),n}(r.Component);c.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(A,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.a7f3fa00.chunk.js.map